# Требования

* docker >= 1.8

## OS X & Windows 

Т.к. на момент написания этого ридми docker 1.11 был в бете, то нам необходимо установить
__docker-toolbox__
<https://www.docker.com/products/docker-toolbox>

## Linux

запустится без костылей

# Запуск docker'a

## OS X & Windows

docker-toolbox поставляется вместе с Kitematic, который несет в себе виртуальную машину с линуксом, в котором уже можно запускать контейнеры.
Перед тем как начать работу с докером, нам необходимо запустить этот Kitematic и дальше мы можем продолжить работу через консоль или использовать интерфейс китематика.

### Tmux или если docker daemon недоступен

Если вы используете tmux или любой другой терминал, то для начала нужно этому терминалу добавить переменные с данными о хосте докера. Для этого необходимо запустить:

```bash 
docker-machine env default
```

Оно выдаст что-то типа:

```bash
export DOCKER_TLS_VERIFY="1"
export DOCKER_HOST="tcp://192.168.99.100:2376"
export DOCKER_CERT_PATH="/Users/user/.docker/machine/machines/default"
export DOCKER_MACHINE_NAME="default"
# Run this command to configure your shell:
# eval $(docker-machine env default)
```

После чего нам необходимо выполнить в терминале команду, чтобы эти переменные загрузились непосредственно в терминал:

```bash
eval $(docker-machine env default)
```


## Linux

Стандартно

# Docker Build & run

После того как мы разобрались с самим докером, мы можем сбилдить конкретно образ из репозитория. 
Для этого запускаем bash-скрипты, который содержат стандартные команды докера (чтобы не писать руками):

```bash
sh build.sh
```

Чтобы запустить последний сбилженный образ:

```bash
sh run_last.sh
```

### Внимание

``run_last.sh`` монтирует папку ___texprojects___ из текущего рабочего каталога, которая содержит шаблон
___bachelor-diploma___ (именно эта папка и именно этот шаблон доступны в контейнере, т.к. папка смонтирована)
Сделано это для того, чтобы можно было хранить все проекты в ___texprojects___, компилить их через контейнер, а просматривать (и, возможно, редактировать) на машине-хосте.

# PDF build 

Чтобы собрать PDF из конкретного tex-скрипта, нужно запустить:

```bash
xelatex test.tex

Где test.tex - ваш tex-скрипт
```

# Шаблон bachelor

Чтобы сбилдить конкретно этот шаблон, нужно через контейнер зайти в папку

```bash
cd /texprojects/bachelor-diploma
```

и выполнить ```make```
PDF появится в той же папке, посмотреть его мы можем на нашей машине (или через контейнер)










